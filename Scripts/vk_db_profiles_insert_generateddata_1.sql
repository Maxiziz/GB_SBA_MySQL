use vk;

INSERT INTO `profiles` (`user_id`,`gender`,`birthday`,`photo_id`,`hometown`)
VALUES
  (1,"f","2030-10-10",92,"Nizhny"),
  (2,"f","2042-11-24",281,"Tambov"),
  (3,"m","2028-01-19",10,"Plast"),
  (4,"m","2028-02-07",163,"Lipetsk"),
  (5,"f","2043-11-22",164,"Samara"),
  (6,"m","2023-01-11",219,"Murmansk"),
  (7,"f","2046-04-21",264,"Orenburg"),
  (8,"m","2040-02-10",76,"Oryol"),
  (9,"f","2015-07-19",292,"Sevastopol"),
  (10,"m","2036-03-01",119,"Ivanovo");
INSERT INTO `profiles` (`user_id`,`gender`,`birthday`,`photo_id`,`hometown`)
VALUES
  (11,"f","2047-12-13",113,"Sakhalin"),
  (12,"m","2018-02-22",100,"Novgorod"),
  (13,"m","2037-12-21",216,"Kurovskoye"),
  (14,"f","2021-09-02",54,"Voronezh"),
  (15,"f","2048-04-25",62,"Tomsk"),
  (16,"m","2018-10-21",243,"Tambov"),
  (17,"m","2010-11-15",284,"Chekhov"),
  (18,"f","2015-09-06",192,"Volgograd"),
  (19,"m","2025-03-06",224,"Kaluga"),
  (20,"f","2039-09-04",295,"Sevastopol");
INSERT INTO `profiles` (`user_id`,`gender`,`birthday`,`photo_id`,`hometown`)
VALUES
  (21,"f","2042-03-20",55,"Vologda"),
  (22,"m","2036-02-16",212,"Ivanovo"),
  (23,"m","2024-10-18",111,"Satka"),
  (24,"m","2028-02-04",249,"Tambov"),
  (25,"m","2028-10-11",185,"Voronezh"),
  (26,"m","2040-08-01",46,"Volgograd"),
  (27,"m","2040-06-01",29,"Shimanovsk"),
  (28,"m","2046-06-21",15,"Ivanovo"),
  (29,"f","2039-12-18",176,"Ivangorod"),
  (30,"m","2036-01-29",15,"Kaluga");
INSERT INTO `profiles` (`user_id`,`gender`,`birthday`,`photo_id`,`hometown`)
VALUES
  (31,"f","2011-12-05",159,"Samara"),
  (32,"m","2029-12-12",25,"Samara"),
  (33,"m","2014-01-31",80,"Tver"),
  (34,"m","2046-09-14",135,"Novgorod"),
  (35,"f","2023-01-02",31,"Voronezh"),
  (36,"f","2044-04-19",146,"Tver"),
  (37,"f","2019-02-02",299,"Pskov"),
  (38,"f","2010-10-06",70,"Novgorod"),
  (39,"m","2037-01-22",120,"Saint Petersburg"),
  (40,"f","2028-02-05",211,"Pskov");
INSERT INTO `profiles` (`user_id`,`gender`,`birthday`,`photo_id`,`hometown`)
VALUES
  (41,"m","2017-03-07",294,"Tolyatti"),
  (42,"m","2038-11-20",185,"Saratov"),
  (43,"f","2034-05-03",150,"Murmansk"),
  (44,"f","2049-08-23",73,"Vologda"),
  (45,"m","2031-12-06",202,"Magadan"),
  (46,"m","2044-11-25",27,"Sevastopol"),
  (47,"m","2011-10-21",248,"Penza"),
  (48,"m","2039-02-16",221,"Penza"),
  (49,"f","2040-06-22",86,"Novosibirsk"),
  (50,"f","2018-12-25",224,"Penza");
INSERT INTO `profiles` (`user_id`,`gender`,`birthday`,`photo_id`,`hometown`)
VALUES
  (51,"f","2016-05-25",228,"Oryol"),
  (52,"f","2021-02-11",242,"Kaluga"),
  (53,"m","2022-03-19",63,"Orenburg"),
  (54,"f","2033-12-09",182,"Mezen"),
  (55,"f","2049-09-27",14,"Shatura"),
  (56,"f","2040-05-25",247,"Pochep"),
  (57,"f","2015-02-06",72,"Yaroslavl"),
  (58,"f","2022-04-10",82,"Pskov"),
  (59,"m","2034-03-19",123,"Saratov"),
  (60,"m","2039-03-14",256,"Tyumen");
INSERT INTO `profiles` (`user_id`,`gender`,`birthday`,`photo_id`,`hometown`)
VALUES
  (61,"m","2036-08-23",3,"Kurgan"),
  (62,"m","2033-08-23",91,"Lipetsk"),
  (63,"m","2045-08-31",169,"Saint Petersburg"),
  (64,"m","2032-07-27",257,"Yekaterinburg"),
  (65,"f","2017-06-01",19,"Tver"),
  (66,"m","2047-02-03",112,"Kaluga"),
  (67,"f","2036-02-16",47,"Vladimir"),
  (68,"m","2024-12-09",186,"Ulyanovsk"),
  (69,"f","2038-12-26",5,"Tula"),
  (70,"m","2048-10-08",51,"Ivanovo");
INSERT INTO `profiles` (`user_id`,`gender`,`birthday`,`photo_id`,`hometown`)
VALUES
  (71,"m","2036-09-13",38,"Bryansk"),
  (72,"m","2038-10-05",223,"Ulyanovsk"),
  (73,"f","2027-04-13",11,"Tambov"),
  (74,"m","2040-09-02",133,"Omsk"),
  (75,"f","2033-01-30",252,"Cherepovets"),
  (76,"m","2025-03-17",89,"Novosibirsk"),
  (77,"f","2039-09-02",82,"Cherepovets"),
  (78,"f","2038-09-13",110,"Murmansk"),
  (79,"f","2044-11-11",137,"Irkutsk"),
  (80,"m","2022-11-17",83,"Kaliningrad");
INSERT INTO `profiles` (`user_id`,`gender`,`birthday`,`photo_id`,`hometown`)
VALUES
  (81,"f","2036-09-21",10,"Vladimir"),
  (82,"f","2046-01-07",227,"Tula"),
  (83,"f","2028-08-26",104,"Omsk"),
  (84,"f","2024-09-03",5,"Penza"),
  (85,"m","2046-08-19",113,"Penza"),
  (86,"f","2028-03-21",7,"Tyumen"),
  (87,"m","2011-02-10",161,"Murmansk"),
  (88,"m","2033-03-28",260,"Ivanovo"),
  (89,"m","2046-02-04",252,"Murmansk"),
  (90,"f","2049-09-16",70,"Kirov");
INSERT INTO `profiles` (`user_id`,`gender`,`birthday`,`photo_id`,`hometown`)
VALUES
  (91,"m","2047-04-21",232,"Dyatkovo"),
  (92,"f","2027-02-12",2,"Volgograd"),
  (93,"f","2046-10-17",208,"Shatura"),
  (94,"m","2021-12-27",31,"Kursk"),
  (95,"m","2024-04-09",89,"Kursk"),
  (96,"m","2011-03-20",93,"Kaliningrad"),
  (97,"f","2018-06-11",204,"Shebekino"),
  (98,"m","2030-10-28",243,"Tambov"),
  (99,"m","2045-02-10",122,"Cherepovets"),
  (100,"f","2019-09-09",295,"Omsk");
 
-- Все файлы profiles.photo_id по логике вещей должны быть фотографиями, т.е. иметь media.media_type_id=1 (Image)
-- UPDATE media set media_type_id='1' where media.id = *СЮДА ВСТАВИТЬ ПЕРЕМЕННУЮ-МАССИВ_с_айди из предшествующего селекта с сохранением в переменную, когда научимся это делать;
UPDATE media, profiles set media.media_type_id='1' where media.id=profiles.photo_id; -- всё оказалось проще, нужно было добваить таблицу profiles после медиа
-- пробую теперь посмотреть обновленные поля, подставив к ним название(name) media_type_id из третьей таблицы media_types
/*	-- Не верно
 *  SELECT DISTINCT media.id, media.media_type_id,media_types.name from media, profiles
LEFT JOIN media_types on media.media_type_id = media_types.id
WHERE media.id = profiles.photo_id; -- не верно.*/

SELECT DISTINCT media.id, media.media_type_id from media, profiles
WHERE media.id = profiles.photo_id;

SELECT DISTINCT profiles.photo_id, media.media_type_id, media_types.name from profiles
LEFT JOIN media on profiles.photo_id = media.id
LEFT JOIN media_types on media.media_type_id = media_types.id; -- верно